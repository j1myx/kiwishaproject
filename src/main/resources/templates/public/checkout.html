<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">
<head>
    <title>Checkout - Achisway</title>
</head>
<body>

<main layout:fragment="content">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">Checkout</h1>
        <p class="text-gray-600 mb-8">El pago se implementará más adelante.</p>

        <div th:if="${#lists.isEmpty(itemsCarrito)}" class="text-center py-16">
            <p class="text-xl text-gray-600 mb-8">Tu carrito está vacío</p>
            <a th:href="@{/catalogo}" class="bg-purple-600 text-white px-8 py-3 rounded-lg hover:bg-purple-700 transition">
                Ver Catálogo
            </a>
        </div>

        <div th:unless="${#lists.isEmpty(itemsCarrito)}" class="bg-white rounded-lg shadow overflow-hidden">
            <div th:each="item : ${itemsCarrito}" class="border-b border-gray-200 p-6 flex gap-4">
                <img th:src="@{${(item.productoImagen != null and !#strings.isEmpty(item.productoImagen)) ? '/files/' + item.productoImagen : '/files/defaults/producto-default.svg'}}"
                     onerror="this.onerror=null; this.src='/files/defaults/producto-default.svg';"
                     th:alt="${item.productoTitulo}"
                     class="w-20 h-20 object-cover rounded" />

                <div class="flex-1">
                    <p class="text-lg font-semibold text-gray-900" th:text="${item.productoTitulo}">Producto</p>
                    <p class="text-gray-600 text-sm">Cantidad: <span th:text="${item.cantidad}">1</span></p>
                </div>

                <div class="text-right">
                    <p class="text-gray-600 text-sm">Precio</p>
                    <p class="text-purple-600 font-semibold">S/ <span th:text="${#numbers.formatDecimal(item.precio, 1, 2)}">0.00</span></p>
                </div>
            </div>

            <div class="p-6 flex justify-end">
                <button type="button" disabled class="bg-purple-600 text-white px-8 py-3 rounded-lg opacity-60 cursor-not-allowed">
                    Pagar (próximamente)
                </button>
            </div>
        </div>
    </div>
</main>

</body>
</html>
