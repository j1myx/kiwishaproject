<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar sesión - Achisway</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'"
          href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Work+Sans:wght@400;500;700;900" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
</head>
<body>
    <div class="relative flex h-auto min-h-screen w-full flex-col bg-[#fcfaf8] group/design-root overflow-x-hidden" 
         style='font-family: "Work Sans", "Noto Sans", sans-serif;'>
        <div class="layout-container flex h-full grow flex-col">
            <div class="px-40 flex flex-1 justify-center py-5">
                <div class="layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1">
                    <h2 class="text-[#1c140d] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5">
                        Iniciar sesión
                    </h2>
                    
                    <!-- Mensajes de error/éxito -->
                    <div th:if="${error}" class="mx-4 mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                        <span class="block sm:inline" th:text="${error}">Error de credenciales</span>
                    </div>
                    
                    <div th:if="${message}" class="mx-4 mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
                        <span class="block sm:inline" th:text="${message}">Mensaje de éxito</span>
                    </div>
                    
                    <!-- Formulario de login -->
                    <form th:action="@{/login}" method="post">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                        <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
                            <label class="flex flex-col min-w-40 flex-1">
                                <input
                                    id="email"
                                    name="email"
                                    type="email"
                                    required
                                    placeholder="Email"
                                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#1c140d] focus:outline-0 focus:ring-0 border-none bg-[#f4ede6] focus:border-none h-14 placeholder:text-[#9e7347] p-4 text-base font-normal leading-normal"
                                />
                            </label>
                        </div>
                        <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
                            <label class="flex flex-col min-w-40 flex-1">
                                <input
                                    id="password"
                                    name="password"
                                    type="password"
                                    required
                                    placeholder="Contraseña"
                                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#1c140d] focus:outline-0 focus:ring-0 border-none bg-[#f4ede6] focus:border-none h-14 placeholder:text-[#9e7347] p-4 text-base font-normal leading-normal"
                                />
                            </label>
                        </div>
                        
                        <div class="flex px-4 py-3">
                            <button
                                type="submit"
                                class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 flex-1 bg-[#f98006] text-[#1c140d] text-sm font-bold leading-normal tracking-[0.015em] hover:bg-[#e07305]">
                                <span class="truncate">Iniciar sesión</span>
                            </button>
                        </div>
                    </form>
                    
                    <p class="text-[#9e7347] text-sm font-normal leading-normal pb-3 pt-1 px-4 text-center underline cursor-pointer">
                        ¿Olvidaste tu contraseña?
                    </p>

                    <div class="text-center mt-2">
                        <a th:href="@{/registro}" class="text-sm text-[#9e7347] hover:text-[#1c140d] underline">
                            ¿No tienes cuenta? Regístrate
                        </a>
                    </div>
                    
                    <div class="text-center mt-4">
                        <a th:href="@{/}" class="text-sm text-[#9e7347] hover:text-[#1c140d] underline">
                            Volver al inicio
                        </a>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>
</body>
</html>
